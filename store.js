/*!
* Copyright 584069777@qq.com 2019.
*/
define(["babel-runtime/core-js/json/stringify","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass"],function(r,s,e){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r,s=s&&s.hasOwnProperty("default")?s.default:s,e=e&&e.hasOwnProperty("default")?e.default:e;var a=require("lodash/isString");return function(){function t(e){s(this,t),this.storage=e}return e(t,[{key:"get",value:function(e){if(""===e)return null;var t=this.storage.getItem(e),r=void 0;try{r=JSON.parse(t)}catch(e){r=t}return r}},{key:"set",value:function(t,e){if(""===t)throw new Error("要存储storage的数据缺少key");if(a(e))this.storage.setItem(t,e);else try{void 0===e?this.storage.removeItem(t):this.storage.setItem(t,r(e))}catch(e){throw new Error("JSON数据"+t+"格式错误")}}},{key:"del",value:function(e){this.storage.removeItem(e)}},{key:"clear",value:function(e){if(e||this.storage.clear(),a(e))for(var t=0;t<this.storage.length;t++)0===this.storage.key(t).indexOf(e)&&this.storage.removeItem(this.storage.key(t))}}]),t}()});
